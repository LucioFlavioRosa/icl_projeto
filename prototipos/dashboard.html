<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel de Acompanhamento | Gestão de Fretes ICL</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Estilos do template original -->
  <link rel="stylesheet" href="https://bra.icl-group.com/wp-content/themes/hello-elementor/style.css?ver=6.8.3">
  <link rel="stylesheet" href="https://bra.icl-group.com/wp-content/themes/icl/css/general.min.css?ver=1761724536">
  <link rel="stylesheet" href="https://bra.icl-group.com/wp-content/themes/icl/css/new-styles.min.css?ver=1761724536">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: 'Demo', 'Inter', Arial, sans-serif; background: #f7f9fa; margin: 0; }
    .dashboard-main { max-width: 1250px; margin: 40px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 24px #00284622; padding: 40px 32px; }
    h1 { color: #00B5D3; font-size: 2.2rem; margin-bottom: 18px; font-family: 'Demo', sans-serif; }
    .cards-status { display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px; margin-bottom: 32px; }
    .card-status { background: linear-gradient(135deg, #8FE6E5 0%, #00B5D3 100%); border-radius: 12px; padding: 28px 18px; color: #fff; text-align: center; box-shadow: 0 2px 12px #00B5D340; }
    .card-status .count { font-size: 2.5rem; font-weight: 600; margin-bottom: 8px; }
    .card-status .label { font-size: 1.1rem; font-weight: 400; }
    .dashboard-row { display: grid; grid-template-columns: 1.1fr 1fr; gap: 32px; margin-bottom: 32px; }
    .chart-box { background: #f2f7fb; border-radius: 12px; padding: 24px; box-shadow: 0 2px 12px #00B5D320; }
    .table-box { background: #f2f7fb; border-radius: 12px; padding: 24px; box-shadow: 0 2px 12px #00B5D320; }
    .filters-bar { display: flex; gap: 18px; margin-bottom: 16px; flex-wrap: wrap; }
    .filters-bar select, .filters-bar input { padding: 8px 14px; border-radius: 8px; border: 1px solid #00B5D340; font-size: 1rem; font-family: 'Inter', sans-serif; }
    .search-bar { display: flex; align-items: center; gap: 10px; margin-bottom: 18px; }
    .search-bar input { padding: 8px 14px; border-radius: 8px; border: 1px solid #00B5D340; font-size: 1rem; width: 260px; }
    .search-bar button { background: #00B5D3; color: #fff; border: none; border-radius: 33px; padding: 8px 22px; font-size: 1rem; font-family: 'Demo', sans-serif; cursor: pointer; }
    .ag-table { width: 100%; border-collapse: collapse; margin-bottom: 12px; }
    .ag-table th, .ag-table td { padding: 10px 8px; border-bottom: 1px solid #eaeaea; text-align: left; font-size: 1rem; }
    .ag-table th { background: #eaf7fa; color: #002846; font-weight: 500; }
    .ag-table tr:last-child td { border-bottom: none; }
    .ag-table td.status { font-weight: 500; }
    .ag-table td.status.solicitado { color: #00B5D3; }
    .ag-table td.status.confirmado { color: #61CE70; }
    .ag-table td.status.transito { color: #fcb900; }
    .ag-table td.status.concluido { color: #002846; }
    @media (max-width: 1100px) { .dashboard-row { grid-template-columns: 1fr; } }
    @media (max-width: 900px) { .cards-status { grid-template-columns: 1fr 1fr; } .dashboard-main { padding: 20px 8px; } }
    @media (max-width: 600px) { .cards-status { grid-template-columns: 1fr; } }
  </style>
  <script>
    // Simulação de dados
    const statusCounts = { solicitado: 12, confirmado: 8, transito: 5, concluido: 21 };
    const agendamentos = [
      { id: 'AG202501', data: '2025-06-01', fornecedor: 'Fornecedor A', transportadora: 'Transp. Alfa', status: 'solicitado' },
      { id: 'AG202502', data: '2025-06-02', fornecedor: 'Fornecedor B', transportadora: 'Transp. Beta', status: 'confirmado' },
      { id: 'AG202503', data: '2025-06-03', fornecedor: 'Fornecedor C', transportadora: 'Transp. Gama', status: 'transito' },
      { id: 'AG202504', data: '2025-06-04', fornecedor: 'Fornecedor D', transportadora: 'Transp. Alfa', status: 'concluido' },
      { id: 'AG202505', data: '2025-06-05', fornecedor: 'Fornecedor E', transportadora: 'Transp. Beta', status: 'solicitado' }
    ];
    function renderStatusCards() {
      document.getElementById('card-solicitado').querySelector('.count').textContent = statusCounts.solicitado;
      document.getElementById('card-confirmado').querySelector('.count').textContent = statusCounts.confirmado;
      document.getElementById('card-transito').querySelector('.count').textContent = statusCounts.transito;
      document.getElementById('card-concluido').querySelector('.count').textContent = statusCounts.concluido;
    }
    function renderAgTable() {
      const tbody = document.getElementById('ag-tbody');
      tbody.innerHTML = agendamentos.map(a => `
        <tr>
          <td>${a.id}</td>
          <td>${a.data}</td>
          <td>${a.fornecedor}</td>
          <td>${a.transportadora}</td>
          <td class="status ${a.status}">${a.status.charAt(0).toUpperCase() + a.status.slice(1)}</td>
        </tr>
      `).join('');
    }
    function filtrarTabela() {
      const filtroStatus = document.getElementById('filtro-status').value;
      const filtroFornecedor = document.getElementById('filtro-fornecedor').value.toLowerCase();
      const filtroTransportadora = document.getElementById('filtro-transportadora').value.toLowerCase();
      const filtroData = document.getElementById('filtro-data').value;
      const filtroBusca = document.getElementById('search-input').value.toLowerCase();
      const tbody = document.getElementById('ag-tbody');
      tbody.innerHTML = agendamentos.filter(a => {
        return (!filtroStatus || a.status === filtroStatus)
          && (!filtroFornecedor || a.fornecedor.toLowerCase().includes(filtroFornecedor))
          && (!filtroTransportadora || a.transportadora.toLowerCase().includes(filtroTransportadora))
          && (!filtroData || a.data === filtroData)
          && (!filtroBusca || a.id.toLowerCase().includes(filtroBusca) || a.fornecedor.toLowerCase().includes(filtroBusca) || a.transportadora.toLowerCase().includes(filtroBusca));
      }).map(a => `
        <tr>
          <td>${a.id}</td>
          <td>${a.data}</td>
          <td>${a.fornecedor}</td>
          <td>${a.transportadora}</td>
          <td class="status ${a.status}">${a.status.charAt(0).toUpperCase() + a.status.slice(1)}</td>
        </tr>
      `).join('');
    }
    window.onload = function() {
      renderStatusCards();
      renderAgTable();
      // Chart.js - gráfico de linha
      const ctx = document.getElementById('freteChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: Array.from({length: 30}, (_, i) => `Dia ${i+1}`),
          datasets: [{
            label: 'Volume de Fretes',
            data: Array.from({length: 30}, () => Math.floor(Math.random()*10)+5),
            borderColor: '#00B5D3',
            backgroundColor: 'rgba(0,181,211,0.13)',
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false },
            title: { display: true, text: 'Volume de Fretes nos Últimos 30 Dias', color: '#002846', font: { size: 18 } }
          },
          scales: {
            x: { ticks: { color: '#002846' } },
            y: { ticks: { color: '#002846' } }
          }
        }
      });
    };
  </script>
</head>
<body>
  <header class="header_section" style="background:#002846;">
    <div class="logo_wrapper" style="padding:18px 0 18px 32px;">
      <a href="/" class="bl_log"><img src="https://bra.icl-group.com/wp-content/uploads/2020/12/ICL_logo_svg.svg" alt="ICL" width="87" height="36"></a>
    </div>
  </header>
  <main class="dashboard-main">
    <h1>Painel de Acompanhamento</h1>
    <div class="cards-status">
      <div class="card-status" id="card-solicitado"><div class="count">0</div><div class="label">Solicitado</div></div>
      <div class="card-status" id="card-confirmado"><div class="count">0</div><div class="label">Confirmado</div></div>
      <div class="card-status" id="card-transito"><div class="count">0</div><div class="label">Em Trânsito</div></div>
      <div class="card-status" id="card-concluido"><div class="count">0</div><div class="label">Concluído</div></div>
    </div>
    <div class="dashboard-row">
      <div class="chart-box">
        <canvas id="freteChart" height="220" aria-label="Gráfico de volume de fretes"></canvas>
      </div>
      <div class="table-box">
        <div class="search-bar">
          <input type="text" id="search-input" placeholder="Busca rápida por ID, fornecedor, transportadora" oninput="filtrarTabela()" aria-label="Busca rápida">
          <button onclick="filtrarTabela()">Buscar</button>
        </div>
        <div class="filters-bar">
          <input type="date" id="filtro-data" onchange="filtrarTabela()" aria-label="Filtrar por data">
          <select id="filtro-fornecedor" onchange="filtrarTabela()" aria-label="Filtrar por fornecedor">
            <option value="">Fornecedor</option>
            <option value="Fornecedor A">Fornecedor A</option>
            <option value="Fornecedor B">Fornecedor B</option>
            <option value="Fornecedor C">Fornecedor C</option>
            <option value="Fornecedor D">Fornecedor D</option>
            <option value="Fornecedor E">Fornecedor E</option>
          </select>
          <select id="filtro-transportadora" onchange="filtrarTabela()" aria-label="Filtrar por transportadora">
            <option value="">Transportadora</option>
            <option value="Transp. Alfa">Transp. Alfa</option>
            <option value="Transp. Beta">Transp. Beta</option>
            <option value="Transp. Gama">Transp. Gama</option>
          </select>
          <select id="filtro-status" onchange="filtrarTabela()" aria-label="Filtrar por status">
            <option value="">Status</option>
            <option value="solicitado">Solicitado</option>
            <option value="confirmado">Confirmado</option>
            <option value="transito">Em Trânsito</option>
            <option value="concluido">Concluído</option>
          </select>
        </div>
        <table class="ag-table" aria-label="Agendamentos recentes">
          <thead>
            <tr>
              <th>ID</th>
              <th>Data</th>
              <th>Fornecedor</th>
              <th>Transportadora</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody id="ag-tbody"></tbody>
        </table>
      </div>
    </div>
  </main>
  <footer class="main-footer" style="background:#002846; color:#fff; text-align:center; padding:18px 0;">
    <span>ICL 2025, todos os direitos reservados © 2025</span>
  </footer>
</body>
</html>